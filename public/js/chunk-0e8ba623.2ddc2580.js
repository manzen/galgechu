(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e8ba623"],{"10ac":function(t,e,n){},"17db":function(t,e,n){t.exports=n.p+"img/pic_shine.a13a0233.png"},"2a6e":function(t,e,n){"use strict";var a=n("a172"),c=n.n(a);c.a},"54c3":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAAAXNSR0IArs4c6QAAAKdJREFUGBlj7O3tPcDAwGAPxDjB////dzIBiRqcKiASP4FUEVNJSckRIGMjHsUTgGquMYEUMDIy1gKpv1gUv/7z508rSByssKio6DLQCUvQFQLF6srLyz/DFYIYQMFGIP4BUwxkn5STk5sN44NNBHFKS0vvA6mZMAmgwvywsDC4c+AKQQpYWFjagQo+ApkrgRpPwjSBaBSFBQUFL4Ee6wRqKENWBGIDAA9bQWwU79R8AAAAAElFTkSuQmCC"},"5a60":function(t,e,n){t.exports=n.p+"img/pic_ng.2a56b475.png"},"622e":function(t,e,n){"use strict";var a=n("10ac"),c=n.n(a);c.a},7573:function(t,e,n){"use strict";var a=n("b71a"),c=n.n(a);c.a},"7e06":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"talk"},[n("header-item"),t.currentTalk?n("main",{staticClass:"main"},[n("div",{staticClass:"bg",attrs:{"data-bg":"cafe","data-show":"cafe"===t.backgroundName}}),n("div",{staticClass:"bg",attrs:{"data-bg":"aquarium","data-show":"aquarium"===t.backgroundName}}),n("chara",{staticClass:"chara",attrs:{pose:t.currentTalk.pose,"data-show":t.currentTalk.display}}),n("comment-box",{staticClass:"comment-box",attrs:{comment:t.currentTalk.message,choices:t.choices},on:{next:t.insertNextComment,select:t.postAnswer}}),n("div",{staticClass:"result-pop",attrs:{"data-show":t.isShowResultPop},on:{click:t.moveResultPage}},[t._v("結果を見る")])],1):t._e()],1)},c=[],s=n("32e0"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment-box"},[t.comment?[a("comment-item",{attrs:{comment:t.comment},nativeOn:{click:function(e){return t.handleClickComment(e)}}})]:t._e(),t.choices.length>0?[a("choice",{staticClass:"choice",attrs:{choices:t.choices},on:{select:t.handleClickChoice}})]:t._e(),a("img",{staticClass:"arrow",attrs:{src:n("54c3"),alt:""}})],2)},o=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"choice"},[n("ul",{staticClass:"list"},[t._l(t.choices,function(e,a){return[n("li",{staticClass:"item",attrs:{"data-type":t.alphabetArray[a]},on:{click:t.handleClickChoice}},[t._v(t._s(e))])]})],2)])},u=[],l={name:"Choice",props:{choices:{type:Array,default:function(){return[]}}},computed:{alphabetArray:function(){return["a","b","c"]}},methods:{handleClickChoice:function(t){var e=t.target,n=e.getAttribute("data-type");this.$emit("select",n)}}},h=l,m=(n("2a6e"),n("2877")),p=Object(m["a"])(h,r,u,!1,null,"7813ea28",null),f=p.exports,d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-item"},[n("p",[t._v(t._s(t.comment))])])},g=[],k={name:"CommentItem",props:{comment:{type:String,default:"コメントが入る"}}},A=k,C=(n("7573"),Object(m["a"])(A,d,g,!1,null,"4da82744",null)),b=C.exports,v={name:"CommentBox",components:{CommentItem:b,Choice:f},props:{comment:{type:String,default:""},choices:{type:Array,default:function(){return[]}}},methods:{handleClickComment:function(){this.choices.length||this.$emit("next")},handleClickChoice:function(t){console.log("select"),this.$emit("select",t)}}},w=v,_=(n("bfda"),Object(m["a"])(w,i,o,!1,null,"59057840",null)),y=_.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chara"},["angry"===t.pose?[a("img",{attrs:{src:n("b760"),alt:""}})]:"ng"===t.pose?[a("img",{attrs:{src:n("5a60"),alt:""}})]:"shine"===t.pose?[a("img",{attrs:{src:n("17db"),alt:""}})]:"thinking"===t.pose?[a("img",{attrs:{src:n("e1a0"),alt:""}})]:[a("img",{attrs:{src:n("efb5"),alt:""}})]],2)},T=[],S={name:"Chara",props:{pose:{type:String,default:"default"}}},E=S,D=(n("622e"),Object(m["a"])(E,x,T,!1,null,"090ece54",null)),R=D.exports,j={name:"Talk",components:{Chara:R,CommentBox:y,HeaderItem:s["a"]},data:function(){return{talkData:"",talkCounter:1,isShowResultPop:!1}},computed:{currentTalk:function(){return this.talkData[0]},choices:function(){return this.isEnd?[]:[this.currentTalk.choice1,this.currentTalk.choice2,this.currentTalk.choice3].filter(function(t){return!!t})},backgroundName:function(){return this.currentTalk.bg||"cafe"},isEnd:function(){return this.currentTalk["is_end"]},talkLength:function(){return this.talkData.length}},methods:{insertNextComment:function(){this.talkLength<=1||this.talkData.shift()},incrementScenario:function(){this.talkCounter+=1},getTalkData:function(){var t=this,e="/api/girls/1/message/".concat(this.talkCounter);fetch(e,{mode:"cors"}).then(function(t){return t.json()}).then(function(e){t.replaceQueue(e)})},postAnswer:function(t){var e=this;this.incrementScenario();var n="/api/boys/answer",a=JSON.stringify({boy_id:1,girl_id:1,scenario_id:this.talkCounter,answer:t}),c={Accept:"application/json","Content-Type":"application/json"};fetch(n,{mode:"cors",method:"post",headers:c,body:a}).then(function(t){return t.json()}).then(function(t){e.replaceQueue(t)})},replaceQueue:function(t){this.talkData=t},showResultPop:function(){this.isShowResultPop=!0},moveResultPage:function(){"HAPPY END"===this.currentTalk.message?this.$router.push("/success"):this.$router.push("/failure")}},created:function(){this.getTalkData()},watch:{talkLength:function(t){var e=this;1===t&&this.isEnd&&setTimeout(function(){e.showResultPop()},500)}}},N=j,P=(n("f019"),Object(m["a"])(N,a,c,!1,null,"fc33da8e",null));e["default"]=P.exports},a172:function(t,e,n){},b71a:function(t,e,n){},b760:function(t,e,n){t.exports=n.p+"img/pic_angry.6cea3022.png"},bfda:function(t,e,n){"use strict";var a=n("de64"),c=n.n(a);c.a},de64:function(t,e,n){},e1a0:function(t,e,n){t.exports=n.p+"img/pic_thinking.71dfc91b.png"},efb5:function(t,e,n){t.exports=n.p+"img/pic_hello.9243134e.png"},f019:function(t,e,n){"use strict";var a=n("ffb9"),c=n.n(a);c.a},ffb9:function(t,e,n){}}]);
//# sourceMappingURL=chunk-0e8ba623.2ddc2580.js.map